<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ark GameUserSettings.ini Generator</title>
    <link rel="stylesheet" href="./CSS/Modern.css" />
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar-div">
            <div class="sidebar-header">
                <h2>Ark INI Generator</h2>
            </div>
            
            <div class="search-box">
                <iconify-icon icon="line-md:search" class="search-icon"></iconify-icon>
                <input id="settings-searcher" type="text" placeholder="Search setting..." />
            </div>

            <ul class="sidebar-nav">
                <li>
                    <button id="informationButton" class="sidebar-button selected" onclick="showSection('informationSection', this)">
                        <iconify-icon icon="line-md:alert-circle"></iconify-icon>
                        Information
                    </button>
                </li>
                <li>
                    <button id="modifyIniButton" class="sidebar-button" onclick="showSection('modifyIniSection', this)">
                        <iconify-icon icon="line-md:edit"></iconify-icon>
                        Modify .ini
                    </button>
                </li>
                <li>
                    <button id="modifySettingsButton" class="sidebar-button" onclick="showSection('modifySettingsSection', this)">
                        <iconify-icon icon="line-md:cog"></iconify-icon>
                        Modify Settings
                    </button>
                </li>
                <li>
                    <button id="mapPingsButton" class="sidebar-button" onclick="showSection('mapPingsSection', this)">
                        <iconify-icon icon="line-md:map-marker"></iconify-icon>
                        Map Pings
                    </button>
                </li>
                <li>
                    <button id="pvpSettingsButton" class="sidebar-button" onclick="showSection('pvpSettingsSection', this)">
                        <iconify-icon icon="line-md:swords"></iconify-icon>
                        PVP Settings
                    </button>
                </li>
                <li>
                    <button id="visualSettingsButton" class="sidebar-button" onclick="showSection('visualSettingsSection', this)">
                        <iconify-icon icon="line-md:image"></iconify-icon>
                        Visual Settings
                    </button>
                </li>
            </ul>
        </aside>

        <!-- Main Content -->
        <main class="main-content" id="main-wrapper">
            <header class="top-header">
                <div class="header-title">
                    <h1>Ark Survival Ascended Configurator</h1>
                </div>
                <div class="header-actions">
                    <button class="theme-toggle-btn" onclick="toggleTheme()" id="theme-toggle-button" title="Toggle Theme">
                        <iconify-icon icon="line-md:sunny-outline-to-moon-loop-transition"></iconify-icon>
                    </button>
                </div>
            </header>

            <div class="content-area">
                <!-- Upload Section -->
                <div class="section-card" id="uploadAndDownloadButtons" style="display: none;">
                    <h3>Upload Configuration</h3>
                    <p style="margin-bottom: 15px; color: var(--sidebar-text);">Upload your existing GameUserSettings.ini to modify it.</p>
                    <div class="file-upload-wrapper">
                        <label for="gameUsersettingsFileInput" class="file-upload-label" id="customFileLabel">
                            <iconify-icon icon="line-md:cloud-upload-loop" style="margin-right: 8px;"></iconify-icon>
                            Upload .ini File
                        </label>
                        <input type="file" accept=".ini" id="gameUsersettingsFileInput" onchange="displayFileName()" />
                    </div>
                </div>

                <!-- Information Section -->
                <div id="informationSection" class="section-card" style="display: block;">
                    <h2>Welcome</h2>
                    <p style="margin-bottom: 20px;">This tool helps you generate or modify your Ark Survival Ascended GameUserSettings.ini file.</p>
                    
                    <h3>FAQ</h3>
                    <div class="faq-item">
                        <div class="faq-question">What is a GameUserSettings.ini file?</div>
                        <div class="faq-answer">The GameUserSettings.ini file contains options for both the game client and the game server, allowing you to customize graphics, gameplay, and performance settings.</div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question">Where is the file located?</div>
                        <div class="faq-answer">Typically found in: <code>SteamLibrary\steamapps\common\ARK Survival Ascended\ShooterGame\Saved\Config\Windows\GameUserSettings.ini</code></div>
                    </div>
                </div>

                <!-- Modify INI Section -->
                <div id="modifyIniSection" class="section-card" style="display: none;">
                    <h2>Modify .ini</h2>
                    <p>Content for modifying .ini will appear here.</p>
                </div>

                <!-- Modify Settings Section -->
                <div id="modifySettingsSection" class="section-card" style="display: none;">
                    <h2>Modify Settings</h2>
                    <p>Content for modifying settings will appear here.</p>
                </div>

                <!-- Map Pings Section -->
                <div id="mapPingsSection" class="section-card" style="display: none;">
                    <h2>Map Pings</h2>
                    <div class="form-group">
                        <label class="checkbox-wrapper">
                            <input type="checkbox" name="resourcePings" value="resourcePings"/>
                            Resource Pings
                        </label>
                        <label class="checkbox-wrapper">
                            <input type="checkbox" name="cavePings" value="cavePings"/>
                            Cave Pings
                        </label>
                        <label class="checkbox-wrapper">
                            <input type="checkbox" name="notePings" id="notePings" value="notePings"/>
                            Note Pings
                        </label>
                    </div>
                </div>

                <!-- PVP Settings Section -->
                <div id="pvpSettingsSection" class="section-card" style="display: none;">
                    <h2>PVP Settings</h2>
                    
                    <div class="form-group">
                        <label class="checkbox-wrapper">
                            <input type="checkbox" name="disableGrass" id="pvpGrassSwitch" onchange="togglePvpSetting(this)"/>
                            Disable Grass
                        </label>
                    </div>

                    <div class="form-group">
                        <label class="checkbox-wrapper">
                            <input type="checkbox" name="drawGrass" id="pvpTreesSwitch" onchange="togglePvpSetting(this)"/>
                            Disable Trees
                        </label>
                    </div>

                    <div class="form-group">
                        <label class="checkbox-wrapper">
                            <input type="checkbox" name="showTrees" id="pvpDisableFogSwitch" onchange="togglePvpSetting(this)"/>
                            Disable Fog
                        </label>
                    </div>

                    <div class="form-group">
                        <label class="checkbox-wrapper">
                            <input type="checkbox" name="toggleVolumetricClouds" id="pvpVolumetricCloudsSwitch" onchange="togglePvpSetting(this)"/>
                            Disable Volumetric Clouds
                        </label>
                    </div>

                    <div class="form-group">
                        <label class="checkbox-wrapper">
                            <input type="checkbox" name="toggleVolumetricClouds" id="pvpLumenReflections" onchange="togglePvpSetting(this)"/>
                            Disable Lumen Reflections
                        </label>
                    </div>
                </div>

                <!-- Visual Settings Section -->
                <div id="visualSettingsSection" class="section-card" style="display: none;">
                    <h2>Visual Settings</h2>
                    
                    <div class="form-group">
                        <label class="checkbox-wrapper">
                            <input type="checkbox" name="autoBrightness" id="brightnessSwitch"/>
                            Auto Brightness
                        </label>
                    </div>

                    <div class="form-group">
                        <label class="checkbox-wrapper">
                            <input type="checkbox" name="drawGrass" value="drawGrass" id="grassSwitch"/>
                            Draw Grass
                        </label>
                    </div>

                    <div class="form-group">
                        <label class="checkbox-wrapper">
                            <input type="checkbox" name="showTrees" value="showTrees" id="treesSwitch"/>
                            Show Trees
                        </label>
                    </div>

                    <div class="form-group">
                        <label class="checkbox-wrapper">
                            <input type="checkbox" name="toggleVolumetricClouds" value="toggleVolumetricClouds" id="volumetricCloudsSwitch"/>
                            Volumetric Clouds
                        </label>
                    </div>

                    <div class="form-group slider-container">
                        <div class="slider-label">
                            <span>Shadow Quality</span>
                            <span id="shadowQualitySliderOutput">Low</span>
                        </div>
                        <input type="range" min="1" max="100" name="shadowQuality" value="1" id="shadowQualitySlider" class="shadowQualitySlider"/>
                    </div>

                    <div class="form-group slider-container">
                        <div class="slider-label">
                            <span>View Distance</span>
                            <span id="viewDistanceSliderOutput">Low</span>
                        </div>
                        <input type="range" min="1" max="100" name="viewDistance" value="1" id="viewDistanceSlider" class="viewDistanceSlider"/>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div style="margin-top: 20px;">
                    <button id="downloadButton" class="btn btn-primary" onclick="downloadFile()" style="display: none;">
                        <iconify-icon icon="line-md:download-loop"></iconify-icon>
                        Generate INI
                    </button>
                </div>

                <!-- Hidden Previews (kept for JS compatibility) -->
                <div class="iniFilePreview" id="iniFilePreviewId" style="display: none;">
                    <textarea name="iniFilePreviewTextArea" id="iniFilePreviewTextAreaId"></textarea>
                </div>
                <div class="pvpCommandPreview" id="pvpCommandPreviewId" style="display: none;">
                    <textarea name="pvpCommandPreviewTextArea" id="pvpCommandPreviewTextAreaId"></textarea>
                </div>

            </div>
        </main>
    </div>

    <script src="./JS/index.js"></script>
    <script src="./JS/downloadFile.js"></script>
    <script src="./JS/sectionFunctions.js"></script>
    <script src="./JS/theme.js"></script>
    <script src="./JS/pvpCommandSection.js"></script>
</body>
</html>
